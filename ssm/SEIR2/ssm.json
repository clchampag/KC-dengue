{
  "data": [
    {
      "name": "incidence_ndss_obs",
      "require": {
        "path": "data/data.csv",
        "fields": [
          "date",
          "incidence_ndss_obs"
        ]
      }
    },
    {
      "name": "incidence_D1_obs",
      "require": {
        "path": "data/data.csv",
        "fields": [
          "date",
          "incidence_D1_obs"
        ]
      }
    },
    {
      "name": "incidence_D2_obs",
      "require": {
        "path": "data/data.csv",
        "fields": [
          "date",
          "incidence_D2_obs"
        ]
      }
    },
    {
      "name": "rep_denfree",
      "require": {
        "path": "data/data.csv",
        "fields": [
          "date",
          "rep_denfree"
        ]
      }
    }
  ],
  "inputs": [
    {
      "name": "N",
      "description": "population size",
      "require": {
        "name": "N",
        "path": "priors/N.json"
      }
    },
    {
      "name": "S",
      "description": "initial number",
      "transformation": "pr_S*N",
      "require": {
        "name": "pr_S",
        "path": "priors/pr_S.json"
      }
    },
    {
      "name": "S1",
      "description": "initial number",
      "transformation": "pr_S1*N",
      "require": {
        "name": "pr_S1",
        "path": "priors/pr_S1.json"
      }
    },
    {
      "name": "E1",
      "description": "initial number",
      "transformation": "pr_I1",
      "require": {
        "name": "pr_I1",
        "path": "priors/pr_I1.json"
      }
    },
    {
      "name": "S2",
      "description": "initial number",
      "transformation": "pr_S2*N",
      "require": {
        "name": "pr_S2",
        "path": "priors/pr_S2.json"
      }
    },
    {
      "name": "E2",
      "description": "initial number",
      "transformation": "pr_I2",
      "require": {
        "name": "pr_I2",
        "path": "priors/pr_I2.json"
      }
    },
    {
      "name": "I1",
      "description": "initial number",
      "transformation": "pr_I1"
    },
    {
      "name": "I2",
      "description": "initial number",
      "transformation": "pr_I2"
    },
    {
      "name": "I12",
      "description": "initial number",
      "transformation": "pr_I2"
    },
    {
      "name": "I21",
      "description": "initial number",
      "transformation": "pr_I1"
    },
    {
      "name": "E12",
      "description": "initial number",
      "transformation": "pr_I2"
    },
    {
      "name": "E21",
      "description": "initial number",
      "transformation": "pr_I1"
    },
    {
      "name": "i",
      "description": "import parameter",
      "require": {
        "name": "i",
        "path": "priors/i.json"
      }
    },
    {
      "name": "sigma",
      "description": "rate of incubation",
      "transformation": "1/pr_sigma",
      "require": {
        "name": "pr_sigma",
        "path": "priors/pr_sigma.json"
      }
    },
    {
      "name": "R0",
      "description": "transmission parameter",
      "require": {
        "name": "R0",
        "path": "priors/R0.json"
      }
    },
    {
      "name": "beta1",
      "description": "amplitude seasonality",
      "require": {
        "name": "beta1",
        "path": "priors/beta1.json"
      }
    },
    {
      "name": "rep_ndss",
      "description": "observation rate",
      "require": {
        "name": "rep_ndss",
        "path": "priors/rep_ndss.json"
      }
    },
    {
      "name": "mu",
      "description": "birth rate",
      "require": {
        "name": "mu",
        "path": "priors/mu.json"
      }
    },
    {
      "name": "gamma",
      "description": "rate of recovery",
      "transformation": "1/pr_gamma",
      "require": {
        "name": "pr_gamma",
        "path": "priors/pr_gamma.json"
      }
    },
    {
      "name": "rep_denfree",
      "description": "reporting rate",
      "require": {
        "path": "data/data.csv",
        "fields": [
          "date",
          "rep_denfree"
        ]
      }
    },
    {
      "name": "phase",
      "description": "phase of the sinusoidal beta",
      "require": {
        "name": "phase",
        "path": "priors/phase.json"
      }
    },
    {
      "name": "disp",
      "description": "over dispersion",
      "require": {
        "name": "disp",
        "path": "priors/disp.json"
      }
    }
  ],
  "populations": [
    {
      "name": "Kampong Cham",
      "composition": [
        "S",
        "S1",
        "S2",
        "E1",
        "E12",
        "E21",
        "E2",
        "I1",
        "I12",
        "I21",
        "I2",
        "R"
      ],
      "remainder": {
        "name": "R",
        "pop_size": "N"
      }
    }
  ],
  "reactions": [
    {
      "from": "S",
      "to": "E1",
      "description": "infection",
      "rate": "R0*(gamma+mu)*((sigma+mu)/sigma)*(1 + beta1*sin(2*PI*(t/365+phase)))*(I1+I21+i)/N",
      "keywords": [
        "transmission"
      ]
    },
    {
      "from": "S",
      "to": "E2",
      "description": "infection",
      "rate": "R0*(gamma+mu)*((sigma+mu)/sigma)*(1 + beta1*sin(2*PI*(t/365+phase)))*(I2+I12+i)/N",
      "keywords": [
        "transmission"
      ]
    },
    {
      "from": "E1",
      "to": "I1",
      "description": "incubation",
      "rate": "sigma",
      "accumulators": [
        "inc_I1"
      ]
    },
    {
      "from": "E2",
      "to": "I2",
      "description": "incubation",
      "rate": "sigma",
      "accumulators": [
        "inc_I2"
      ]
    },
    {
      "from": "I1",
      "to": "S1",
      "description": "recovery",
      "rate": "gamma"
    },
    {
      "from": "I2",
      "to": "S2",
      "description": "recovery",
      "rate": "gamma"
    },
    {
      "from": "S1",
      "to": "E12",
      "description": "infection",
      "rate": "R0*(gamma+mu)*((sigma+mu)/sigma)*(1 + beta1*sin(2*PI*(t/365+phase)))*(I2+I12+i)/N",
      "keywords": [
        "transmission"
      ]
    },
    {
      "from": "S2",
      "to": "E21",
      "description": "infection",
      "rate": "R0*(gamma+mu)*((sigma+mu)/sigma)*(1 + beta1*sin(2*PI*(t/365+phase)))*(I1+I21+i)/N",
      "keywords": [
        "transmission"
      ]
    },
    {
      "from": "E12",
      "to": "I12",
      "description": "recovery",
      "rate": "sigma",
      "accumulators": [
        "inc_I12"
      ]
    },
    {
      "from": "E21",
      "to": "I21",
      "description": "recovery",
      "rate": "sigma",
      "accumulators": [
        "inc_I21"
      ]
    },
    {
      "from": "I12",
      "to": "R",
      "description": "recovery",
      "rate": "gamma"
    },
    {
      "from": "I21",
      "to": "R",
      "description": "recovery",
      "rate": "gamma"
    },
    {
      "from": "U",
      "to": "S",
      "description": "birth",
      "rate": "mu*N"
    },
    {
      "from": "S",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "S1",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "S2",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "R",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "E1",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "E2",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "E12",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "E21",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "I1",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "I2",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "I12",
      "to": "U",
      "description": "age",
      "rate": "mu"
    },
    {
      "from": "I21",
      "to": "U",
      "description": "age",
      "rate": "mu"
    }
  ],
  "observations": [
    {
      "name": "incidence_D1_obs",
      "start": "2001-12-31",
      "distribution": "discretized_normal",
      "mean": "rep_denfree* (inc_I1 + inc_I21)",
      "sd": "sqrt(rep_denfree*(inc_I1 + inc_I21) +  (pow(rep_denfree*(inc_I1 + inc_I21),2)*disp))"
    },
    {
      "name": "incidence_D2_obs",
      "start": "2001-12-31",
      "distribution": "discretized_normal",
      "mean": "rep_denfree* (inc_I2 + inc_I12)",
      "sd": "sqrt(rep_denfree*(inc_I2 + inc_I12) +  (pow(rep_denfree*(inc_I2 + inc_I12),2)*disp))"
    },
    {
      "name": "incidence_ndss_obs",
      "start": "2001-12-31",
      "distribution": "discretized_normal",
      "mean": "rep_ndss* (inc_I12 + inc_I21 + inc_I1 + inc_I2)",
      "sd": "sqrt(rep_ndss*(inc_I12 + inc_I21 + inc_I1 + inc_I2) +  (pow(rep_ndss*(inc_I12 + inc_I21 + inc_I1 + inc_I2),2)*disp))"
    }
  ]
}